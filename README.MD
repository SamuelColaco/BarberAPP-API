# âœ‚ï¸ BarberAPP-API

![Node.js](https://img.shields.io/badge/Node.js-18.x-green)
![Docker](https://img.shields.io/badge/Docker-âœ…-blue)

**BarberAPP-API** Ã© uma API de agendamentos de serviÃ§os para barbearia, desenvolvida com **Node.js** junto de **TypeScript** e **Express** utilizando princÃ­pios da **Clean Architecture** e **SOLID**. A aplicaÃ§Ã£o oferece funÃ§Ãµes de agendamento de serviÃ§os para barbearias, com envio de notificaÃ§Ã£o por e-mail utilizando a biblioteca **NodeMailer**.

## ğŸ“Œ Funcionalidades

- CriaÃ§Ã£o de usuÃ¡rios (cliente ou barbeiro)
- Listagem de serviÃ§os cadastrados por barbeiros
- CriaÃ§Ã£o de agendamentos com verificaÃ§Ã£o de horÃ¡rio e disponibilidade
- Envio de e-mail confirmando agendamento

---

## ğŸ“ Estrutura do Projeto

```
.
â”œâ”€â”€ app/              
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ entities/
|       |   â”œâ”€â”€ enums/
â”‚       â”‚   â”œâ”€â”€ interfaces/
â”‚       â”‚   â””â”€â”€ repositories/
â”‚       â”œâ”€â”€ infra/
â”‚       â”‚   â”œâ”€â”€providers/
|       |   â”œâ”€â”€http/
|       |      â”œâ”€â”€controllers/
|       |      â”œâ”€â”€middleware/
|       |      â””â”€â”€routes/ 
â”‚       â”‚   â”œâ”€â”€mappers/
|       |   â””â”€â”€providers/
|       |       â”œâ”€â”€hash/
|       |       â”œâ”€â”€jwt/
|       |       â””â”€â”€mail/
â”‚       â”œâ”€â”€ test/
|       â”œâ”€â”€ types/       
â”‚       â”œâ”€â”€ useCase/
|       |   â”œâ”€â”€AppointmentUseCase/
|       |   â”œâ”€â”€ServiceUseCase/
|       |   â”œâ”€â”€SessionUseCase/
|       |   â””â”€â”€UserUseCase/
â”‚       â”œâ”€â”€ utils/
â”‚       â”œâ”€â”€ app.ts
|       â”œâ”€â”€ env.ts
|       â”œâ”€â”€ prisma.ts
â”‚       â””â”€â”€ server.ts
```

---

## ğŸš€ Tecnologias

### Backend

- **Node.js + TypeScript + ExpressJs**
- **NodeMailer**
- **Prisma**
- **JWT**
- **Zod**
- **Jest**
- **Clean Architecture / SOLID**
- **Bcrypt**
- **Docker**

---

## ğŸ“¦ InstalaÃ§Ã£o

### PrÃ©-requisitos

- Node.js 18+
- npm ou yarn

### Backend

#### Passos para InstalaÃ§Ã£o

1. **Clone o RepositÃ³rio**:
   ```bash
   git clone https://github.com/SamuelColaco/BarberAPP-API.git

2. **Ir para o DiretÃ³rio**
    ```bash
    cd BarberAPP-API
    
3. **Instalar as DependÃªncias**
    ```bash
    npm install

4. **Crie um arquivo .env na raiz do projeto**
    E coloque nele essas variÃ¡veis de ambiente

    DATABASE_URL="escreva a url do banco de dados aqui (postgresql://user:password@db:5432/refund)"

    AUTH_SECRET="Escreva seu secret aqui"

    SMTP_SERVICE="Escreva o serviÃ§o SMTP aqui"

    SMTP_USER="Escreva o email de usuario do serviÃ§o"

    SMTP_PASS="Escreva a senha de app aqui"

5. **Rode o Servidor**
    ```bash
    npm run dev
    'O servidor estarÃ¡ disponÃ­vel em http://localhost:3333'


## Docker

- **Comando para rodar o docker-compose**
    ```docker
    docker-compose up -d
- **Comando para verificar o container rodando**
    ```docker
    docker ps ou docker-compose ps
- **Comando para parar o container**
    ```docker
    docker-compose down

---

## ğŸ§± Entidades

### ğŸ§â€â™‚ï¸ User

UsuÃ¡rios podem ser clientes ou barbeiros.

Campos obrigatÃ³rios:
- `name`: string
- `email`: string (Ãºnico)
- `passwordHash`: string
- `role`: Enum("client" ou "barber")

### ğŸ” Services

Os serviÃ§os disponiveis e seus respectivos preÃ§os.

Campos obrigatÃ³rios:
- `barberId`: string(referencia o barbeiro que faz o serviÃ§o)
- `name`: string
- `price`: number 

### ğŸ’¸ Appointment

Realiza agendamentos de serviÃ§os entre um cliente e um barbeiro

Campos obrigatÃ³rios:
- `clientId`: ID do cliente
- `barberId`: ID do barbeiro
- `serviceId`: ID do serviÃ§o
- `date`: data marcada do serviÃ§o(Data no formato UTC)
- `hour`: hora do serviÃ§o(string)
- `status`: Enum("pending", "completed" ou "cancelled") 

---


---

## ğŸ“š Arquitetura (Backend)

- `domain/entities` â†’ Entidades de negÃ³cio (ex: `User`)
- `domain/interfaces` â†’ Contratos para serviÃ§os e repositÃ³rios
- `domain/repositories` â†’ Interfaces para acesso a dados
- `domain/enums` â†’ Enums de contrato com entidades
- `infra/providers` â†’ ServiÃ§os como hash e tokens
- `infra/http` â†’ Controllers e rotas estÃ£o aqui
- `test` â†’ Arquivos com os testes da API
- `utils` â†’ Pasta com arquivo de erro personalizado  
- `useCase` â†’ Casos de uso (ex: login, agendamento)

---

---
